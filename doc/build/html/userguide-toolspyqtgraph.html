

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>User guide: ToolsPyqtgraph &mdash; ViSiAnnoT 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Creating a standalone executable" href="exe.html" />
    <link rel="prev" title="User guide: ToolsPyQt" href="userguide-toolspyqt.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> ViSiAnnoT
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide-visiannot.html">User guide: ViSiAnnoT</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide-configuration.html">User guide: configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide-toolspyqt.html">User guide: ToolsPyQt</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User guide: ToolsPyqtgraph</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-2d-plot">Basic 2D plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grid">Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#legend">Legend</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customization-of-axes">Customization of axes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scatter-plot-and-text-item">Scatter plot and text item</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plot-with-mean-std">Plot with mean/std</a></li>
<li class="toctree-l2"><a class="reference internal" href="#animated-plot">Animated plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mouse-click-interaction">Mouse click interaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#image-display">Image display</a></li>
<li class="toctree-l2"><a class="reference internal" href="#color-map">Color map</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="exe.html">Creating a standalone executable</a></li>
<li class="toctree-l1"><a class="reference internal" href="software.html">Software description</a></li>
<li class="toctree-l1"><a class="reference internal" href="further.html">Further developments</a></li>
<li class="toctree-l1"><a class="reference internal" href="APIreference/index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ViSiAnnoT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>User guide: ToolsPyqtgraph</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/userguide-toolspyqtgraph.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="user-guide-toolspyqtgraph">
<span id="toolspyqtgraph"></span><h1>User guide: ToolsPyqtgraph<a class="headerlink" href="#user-guide-toolspyqtgraph" title="Permalink to this headline">¶</a></h1>
<p>See <a class="reference internal" href="userguide-toolspyqt.html#sec-toolspyqt"><span class="std std-ref">Window display</span></a> for details about window creation.</p>
<div class="section" id="basic-2d-plot">
<h2>Basic 2D plot<a class="headerlink" href="#basic-2d-plot" title="Permalink to this headline">¶</a></h2>
<p>Here is an example for basic 2D plot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="n">data_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">data_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.3</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">])</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">()</span>

<span class="c1"># add widget</span>
<span class="n">wid</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># add plot</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span><span class="n">wid</span><span class="p">,</span> <span class="n">data_1</span><span class="p">)</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span>
    <span class="n">wid</span><span class="p">,</span> <span class="n">data_2</span><span class="p">,</span>
    <span class="n">plot_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
                <span class="s1">&#39;symbol&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;symbolPen&#39;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;symbolBrush&#39;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>which renders the window as shown below.</p>
<div class="figure align-default" id="id1">
<img alt="_images/pyqtgr_ex1-1.png" src="_images/pyqtgr_ex1-1.png" />
<p class="caption"><span class="caption-number">Fig. 33 </span><span class="caption-text">Example of plot</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.initializeDisplayAndBgColor" title="visiannot.tools.ToolsPyqtgraph.initializeDisplayAndBgColor"><code class="xref py py-func docutils literal notranslate"><span class="pre">initializeDisplayAndBgColor()</span></code></a> calls the function <a class="reference internal" href="APIreference/tools/ToolsPyQt/index.html#visiannot.tools.ToolsPyQt.initializeDisplay" title="visiannot.tools.ToolsPyQt.initializeDisplay"><code class="xref py py-func docutils literal notranslate"><span class="pre">ToolsPyQt.initializeDisplay()</span></code></a> and sets the background color to white by default (otherwise Pyqtgraph sets the background color to black). After having creating the window and the layout, we create the 2D widget for plotting, as an instance of pyqtgraph.PlotWidget. Then, we add plots to this widget. Data can be stored in two ways, either in a 1D numpy array or in a 2D numpy array. In the first case, the value on the X axis is the array index. In the second case, the shape is <img class="math" src="_images/math/7a5bb9655a5e8457931a85e2544e19aef0969b90.png" alt="(n, 2)"/> where each line corresponds to one point with X/Y coordinates. The keyword argument <code class="docutils literal notranslate"><span class="pre">plot_style</span></code> allows to change the plot style. By default it is a blue line.</p>
<p><strong>ToolsPyqtgraph</strong> provides the function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.basic2DPlot" title="visiannot.tools.ToolsPyqtgraph.basic2DPlot"><code class="xref py py-func docutils literal notranslate"><span class="pre">basic2DPlot()</span></code></a> that gathers the three steps. The following code is equivalent to above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="n">win</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">wid</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">basic2DPlot</span><span class="p">(</span><span class="n">data_1</span><span class="p">)</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span>
    <span class="n">wid</span><span class="p">,</span> <span class="n">data_2</span><span class="p">,</span>
    <span class="n">plot_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
                <span class="s1">&#39;symbol&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;symbolPen&#39;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;symbolBrush&#39;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="grid">
<h2>Grid<a class="headerlink" href="#grid" title="Permalink to this headline">¶</a></h2>
<p>In order to display the grids on the widget, we need to add the following lines after having created the widget:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Y axis grid</span>
<span class="n">left_axis</span> <span class="o">=</span> <span class="n">wid</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="n">left_axis</span><span class="o">.</span><span class="n">setGrid</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>

<span class="c1"># X axis grid</span>
<span class="n">bottom_axis</span> <span class="o">=</span> <span class="n">wid</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="s2">&quot;bottom&quot;</span><span class="p">)</span>
<span class="n">bottom_axis</span><span class="o">.</span><span class="n">setGrid</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
</pre></div>
</div>
<p>This renders the following window.</p>
<div class="figure align-default" id="id2">
<img alt="_images/pyqtgr_ex1-2.png" src="_images/pyqtgr_ex1-2.png" />
<p class="caption"><span class="caption-number">Fig. 34 </span><span class="caption-text">Example of plot with grids</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="legend">
<h2>Legend<a class="headerlink" href="#legend" title="Permalink to this headline">¶</a></h2>
<p>Taking the same example, here is how to add a legend:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="n">data_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">data_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.3</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">])</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>

<span class="c1"># add widget</span>
<span class="n">wid</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># add plot</span>
<span class="n">plot_1</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span><span class="n">wid</span><span class="p">,</span> <span class="n">data_1</span><span class="p">)</span>
<span class="n">plot_2</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span>
    <span class="n">wid</span><span class="p">,</span> <span class="n">data_2</span><span class="p">,</span>
    <span class="n">plot_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
                <span class="s1">&#39;symbol&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;symbolPen&#39;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;symbolBrush&#39;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># add legend</span>
<span class="n">legend_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Plot 1&quot;</span><span class="p">:</span> <span class="n">plot_1</span><span class="p">,</span> <span class="s2">&quot;Plot 2&quot;</span><span class="p">:</span> <span class="n">plot_2</span><span class="p">}</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addLegendTo2DWidget</span><span class="p">(</span><span class="n">wid</span><span class="p">,</span> <span class="n">legend_dict</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>which renders the window as shown below.</p>
<div class="figure align-default" id="id3">
<img alt="_images/pyqtgr_ex2.png" src="_images/pyqtgr_ex2.png" />
<p class="caption"><span class="caption-number">Fig. 35 </span><span class="caption-text">Example of basic 2D plot with legend</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>By default, the legend is inside the widget at the bottom right corner. With the keyword argument <code class="docutils literal notranslate"><span class="pre">offset</span></code> we can change this position inside the widget. It also possible to put the legend in a separate widget with the following line: <code class="docutils literal notranslate"><span class="pre">ToolsPyqtgraph.addLegendTo2DWidget(wid,</span> <span class="pre">legend_dict,</span> <span class="pre">position='right',</span> <span class="pre">legend_wid_size=(50,</span> <span class="pre">0))</span></code>. It renders the following window.</p>
<div class="figure align-default" id="id4">
<img alt="_images/pyqtgr_ex2bis.png" src="_images/pyqtgr_ex2bis.png" />
<p class="caption"><span class="caption-number">Fig. 36 </span><span class="caption-text">Example of plot with legend</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="customization-of-axes">
<h2>Customization of axes<a class="headerlink" href="#customization-of-axes" title="Permalink to this headline">¶</a></h2>
<p>It is possible to customize the aspect of the ticks and ticks text of the axes. First, in the function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.create2DWidget" title="visiannot.tools.ToolsPyqtgraph.create2DWidget"><code class="xref py py-func docutils literal notranslate"><span class="pre">create2DWidget()</span></code></a>, the keyword argument <code class="docutils literal notranslate"><span class="pre">axes_label_dict</span></code> allows to choose which axes to show and to associate a label. Second, the function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.setTicksTextStyle" title="visiannot.tools.ToolsPyqtgraph.setTicksTextStyle"><code class="xref py py-func docutils literal notranslate"><span class="pre">setTicksTextStyle()</span></code></a> allows to change the color of the axis ticks, ticks text and label. Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="n">data_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>

<span class="c1"># add widget</span>
<span class="n">wid</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span>
    <span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">widget_title</span><span class="o">=</span><span class="s2">&quot;Simple plot&quot;</span><span class="p">,</span>
    <span class="n">title_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#0000&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="s1">&#39;16pt&#39;</span><span class="p">},</span>
    <span class="n">axes_label_dict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;left&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Voltage (V)&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
                     <span class="s2">&quot;bottom&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;#90A&quot;</span><span class="p">,</span> <span class="s2">&quot;font-size&quot;</span><span class="p">:</span> <span class="s2">&quot;14pt&quot;</span><span class="p">}]}</span>
<span class="p">)</span>

<span class="c1"># add plot</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span><span class="n">wid</span><span class="p">,</span> <span class="n">data_1</span><span class="p">)</span>

<span class="c1"># set ticks on X axis</span>
<span class="n">x_ticks_list</span> <span class="o">=</span> <span class="p">[[(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_1</span><span class="p">))]]</span>
<span class="n">bottom_axis</span> <span class="o">=</span> <span class="n">wid</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="s2">&quot;bottom&quot;</span><span class="p">)</span>
<span class="n">bottom_axis</span><span class="o">.</span><span class="n">setTicks</span><span class="p">(</span><span class="n">x_ticks_list</span><span class="p">)</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>which renders the window as shown below.</p>
<div class="figure align-default" id="id5">
<img alt="_images/pyqtgr_ex3.png" src="_images/pyqtgr_ex3.png" />
<p class="caption"><span class="caption-number">Fig. 37 </span><span class="caption-text">Example of basic 2D plot with custom axes</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>We have also used the keyword arguments <code class="docutils literal notranslate"><span class="pre">widget_title</span></code> and <code class="docutils literal notranslate"><span class="pre">title_style</span></code> in the function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.create2DWidget" title="visiannot.tools.ToolsPyqtgraph.create2DWidget"><code class="xref py py-func docutils literal notranslate"><span class="pre">create2DWidget()</span></code></a> in order to add a title to the widget. The default color for the axes is grey. We defined a custom color for the label of the X axis. In order to change the aspect of the bottom axis, we add the following line before the infinite loop:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">setTicksTextStyle</span><span class="p">(</span><span class="n">bottom_axis</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>It renders the following window. We note that it overwrites the color of the bottom axis label.</p>
<div class="figure align-default" id="id6">
<img alt="_images/pyqtgr_ex3bis.png" src="_images/pyqtgr_ex3bis.png" />
<p class="caption"><span class="caption-number">Fig. 38 </span><span class="caption-text">Example of plot with custom axes</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="scatter-plot-and-text-item">
<h2>Scatter plot and text item<a class="headerlink" href="#scatter-plot-and-text-item" title="Permalink to this headline">¶</a></h2>
<p>Here is an example of a scatter plot with a text item associated to each point:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.3</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">])</span>

<span class="n">text_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">]</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>

<span class="c1"># add widget</span>
<span class="n">wid</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># add plot</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span>
    <span class="n">wid</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
    <span class="n">plot_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s2">&quot;symbolPen&quot;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s2">&quot;symbolBrush&quot;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># loop on text list</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">text</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">text_list</span><span class="p">):</span>
    <span class="c1"># get text item position</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="c1"># add text item</span>
    <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addTextItemTo2DWidget</span><span class="p">(</span><span class="n">wid</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>which renders the window as shown below.</p>
<div class="figure align-default" id="id7">
<img alt="_images/pyqtgr_ex4.png" src="_images/pyqtgr_ex4.png" />
<p class="caption"><span class="caption-number">Fig. 39 </span><span class="caption-text">Example of scatter plot with text items</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="plot-with-mean-std">
<h2>Plot with mean/std<a class="headerlink" href="#plot-with-mean-std" title="Permalink to this headline">¶</a></h2>
<p>Let assume that we retrieve the temporal evolution of a value for each subject of a dataset. The function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.addMeanStdPlotTo2DWidget" title="visiannot.tools.ToolsPyqtgraph.addMeanStdPlotTo2DWidget"><code class="xref py py-func docutils literal notranslate"><span class="pre">addMeanStdPlotTo2DWidget()</span></code></a> allows to display the temporal evolution of the mean and standard deviation along the subjects. Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="c1"># data array</span>
<span class="c1"># shape n_samples x n_subjects</span>
<span class="n">data_array_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">data_array_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.5</span>

<span class="c1"># data mean</span>
<span class="n">data_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span>
    <span class="n">data_array_1</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">data_array_2</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="p">))</span>

<span class="n">data_std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span>
    <span class="n">data_array_1</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">data_array_2</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="p">))</span>

<span class="c1"># list with the number of subjects at each sample</span>
<span class="n">n_population_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">data_array_1</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data_array_1</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span> <span class="o">+</span> \
    <span class="p">[</span><span class="n">data_array_2</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data_array_2</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>

<span class="c1"># add widget</span>
<span class="n">wid</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># add mean/std plot</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addMeanStdPlotTo2DWidget</span><span class="p">(</span>
    <span class="n">wid</span><span class="p">,</span> <span class="n">data_mean</span><span class="p">,</span> <span class="n">data_std</span><span class="p">,</span> <span class="n">n_population_list</span><span class="o">=</span><span class="n">n_population_list</span>
<span class="p">)</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>which renders the window as shown below.</p>
<div class="figure align-default" id="id8">
<img alt="_images/pyqtgr_ex5.png" src="_images/pyqtgr_ex5.png" />
<p class="caption"><span class="caption-number">Fig. 40 </span><span class="caption-text">Example of plot with mean/std</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>The dataset is composed of 150 subjects. The first 10 samples are defined as <code class="docutils literal notranslate"><span class="pre">data_array_1</span> <span class="pre">=</span> <span class="pre">np.random.rand(10,</span> <span class="pre">150)</span></code>, all the subjects are present. The following 15 samples are defined as <code class="docutils literal notranslate"><span class="pre">data_array_2</span> <span class="pre">=</span> <span class="pre">np.random.rand(15,</span> <span class="pre">50)</span> <span class="pre">+</span> <span class="pre">0.5</span></code>, only 50 subjects are present. The keyword argument <code class="docutils literal notranslate"><span class="pre">n_population_list</span></code> allows to display a text item at each sample with the number of subjects.</p>
</div>
<div class="section" id="animated-plot">
<h2>Animated plot<a class="headerlink" href="#animated-plot" title="Permalink to this headline">¶</a></h2>
<p>It is possible to update the content of the widget in a for loop in order to get an animated plot. In this case, we need to add the line <code class="docutils literal notranslate"><span class="pre">app.processEvents()</span></code> at the end of the for loop. Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">sleep</span>

<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="c1"># shape n_trials x n_samples</span>
<span class="n">data_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>

<span class="c1"># add widget</span>
<span class="n">wid</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># loop on trials</span>
<span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_array</span><span class="p">:</span>
    <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span><span class="n">wid</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">flag_clear</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">processEvents</span><span class="p">()</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>We define 10 arrays to be plotted sequentially. With the function <code class="docutils literal notranslate"><span class="pre">sleep</span></code>, we force a pause of 1 second between each array to plot. The keyword argument <code class="docutils literal notranslate"><span class="pre">flag_clear</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> so that the previous plot is removed at each update.</p>
<p>It is also possible to use callback management in order to control the animation with keyboard interaction, as in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="k">import</span> <span class="n">QtCore</span>


<span class="c1">####################</span>
<span class="c1"># class definition #</span>
<span class="c1">####################</span>

<span class="k">class</span> <span class="nc">animatedWindow</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_array</span><span class="p">):</span>
        <span class="c1"># input attribute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_array</span> <span class="o">=</span> <span class="n">data_array</span>

        <span class="c1"># initialize index of trial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

        <span class="c1"># create window</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>

        <span class="c1"># add widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pattern_title</span> <span class="o">=</span> <span class="s2">&quot;Trial </span><span class="si">%d</span><span class="s2">&quot;</span>
        <span class="n">widget_title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pattern_title</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wid</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">widget_title</span><span class="o">=</span><span class="n">widget_title</span>
        <span class="p">)</span>

        <span class="c1"># initialize plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_array</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># listen to callback</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">win</span><span class="o">.</span><span class="n">keyPressEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keyPress</span>

        <span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">keyPress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ev</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">key</span><span class="p">()</span>

        <span class="c1"># backward</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">Key_Left</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="c1"># forward</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">Key_Right</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># update plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wid</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pattern_title</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_array</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">trial_id</span><span class="p">])</span>


<span class="c1">######################</span>
<span class="c1"># script starts here #</span>
<span class="c1">######################</span>

<span class="c1"># shape n_trials x n_samples</span>
<span class="n">data_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>

<span class="c1"># create window</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">animatedWindow</span><span class="p">(</span><span class="n">data_array</span><span class="p">)</span>
</pre></div>
</div>
<p>We define a class <code class="docutils literal notranslate"><span class="pre">animatedWindow</span></code> which takes the data array as input. The attribute <code class="docutils literal notranslate"><span class="pre">self.trial_id</span></code> is the current index of the displayed trial. The key press signal is connected to the method <code class="docutils literal notranslate"><span class="pre">keyPress</span></code> where the attribute <code class="docutils literal notranslate"><span class="pre">self.trial_id</span></code> and the plot are updated. If the left key is pressed, then we go to the previous trial. If the right key is pressed, then we go to the next trial. The plot update is performed by the method <code class="docutils literal notranslate"><span class="pre">setData</span></code> of the instance of <code class="docutils literal notranslate"><span class="pre">pyqtgraph.PlotWidget</span></code> returned by the function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.addPlotTo2DWidget" title="visiannot.tools.ToolsPyqtgraph.addPlotTo2DWidget"><code class="xref py py-func docutils literal notranslate"><span class="pre">addPlotTo2DWidget()</span></code></a>.</p>
</div>
<div class="section" id="mouse-click-interaction">
<h2>Mouse click interaction<a class="headerlink" href="#mouse-click-interaction" title="Permalink to this headline">¶</a></h2>
<p>Callback management can be used to define a user interaction with mouse click, as in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">pyqtgraph</span> <span class="k">import</span> <span class="n">LinearRegionItem</span>


<span class="c1">######################</span>
<span class="c1"># callback functions #</span>
<span class="c1">######################</span>

<span class="k">def</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">ev</span><span class="p">,</span> <span class="n">wid</span><span class="p">):</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">wid</span><span class="o">.</span><span class="n">getViewBox</span><span class="p">()</span><span class="o">.</span><span class="n">mapToView</span><span class="p">(</span><span class="n">ev</span><span class="o">.</span><span class="n">pos</span><span class="p">())</span>
    <span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos</span><span class="o">.</span><span class="n">x</span><span class="p">()</span>
    <span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos</span><span class="o">.</span><span class="n">y</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">regionDragged</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">data_array</span><span class="p">):</span>
    <span class="c1"># get zoom bounds</span>
    <span class="n">ind_0</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">getRegion</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ind_1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">getRegion</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>

    <span class="c1"># update plot</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">data_array</span><span class="p">[</span><span class="n">ind_0</span><span class="p">:</span><span class="n">ind_1</span><span class="p">])</span>


<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="c1"># shape n_trials x n_samples</span>
<span class="n">data_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>

<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">800</span><span class="p">))</span>

<span class="c1"># add widget with full signal</span>
<span class="n">wid_1</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># initialize plot</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span><span class="n">wid_1</span><span class="p">,</span> <span class="n">data_array</span><span class="p">)</span>

<span class="c1"># plot region</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">LinearRegionItem</span><span class="p">(</span>
    <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data_array</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data_array</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">wid_1</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>

<span class="c1"># add widget with zoomed signal</span>
<span class="n">wid_2</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">create2DWidget</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># initialize plot</span>
<span class="n">ind_0</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">getRegion</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ind_1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">getRegion</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plot_2</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">addPlotTo2DWidget</span><span class="p">(</span><span class="n">wid_2</span><span class="p">,</span> <span class="n">data_array</span><span class="p">[</span><span class="n">ind_0</span><span class="p">:</span><span class="n">ind_1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>

<span class="c1"># listen to callback for mouse click</span>
<span class="n">callback_lambda_1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">mouseClicked</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">wid_1</span><span class="p">)</span>
<span class="n">wid_1</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">sigMouseClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">callback_lambda_1</span><span class="p">)</span>

<span class="c1"># listen to callback for region dragging</span>
<span class="n">callback_lambda_2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">regionDragged</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">plot_2</span><span class="p">,</span> <span class="n">data_array</span><span class="p">)</span>
<span class="n">region</span><span class="o">.</span><span class="n">sigRegionChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">callback_lambda_2</span><span class="p">)</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>which renders a window as shown below.</p>
<div class="figure align-default" id="id9">
<img alt="_images/pyqtgr_ex6.png" src="_images/pyqtgr_ex6.png" />
<p class="caption"><span class="caption-number">Fig. 41 </span><span class="caption-text">Example of mouse interaction</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>When the user click on the first widget, the mouse position is printed in the console. We listen to the signal <code class="docutils literal notranslate"><span class="pre">sigMouseClicked</span></code> of the scene attribute of the widget and connect it to the callback function <cite>mouseClicked</cite>. The first positional argument <code class="docutils literal notranslate"><span class="pre">ev</span></code> is an instance of <strong>QtGui.QMouseEvent</strong> emitted when the mouse is clicked. The coordinates returned by <code class="docutils literal notranslate"><span class="pre">ev.pos()</span></code> are expressed in pixels offset relatively to the top left corner. In order to get the coordinates relatively to the widget axes, we need the widget: <code class="docutils literal notranslate"><span class="pre">wid.getViewBox().mapToView(ev.pos())</span></code>. In order to pass the widget as an additional argument to the callback function, we use <code class="docutils literal notranslate"><span class="pre">lambda</span></code>.</p>
<p>When the user drags the blue region in the first widget, it updates the zoomed signal in the second widget. We listen to the signal <code class="docutils literal notranslate"><span class="pre">sigRegionChanged</span></code> and connect it to the callback function <code class="docutils literal notranslate"><span class="pre">regionDragged</span></code>. Once again, we need to pass additional arguments to the callback function: the plot item to update and the data array.</p>
</div>
<div class="section" id="image-display">
<h2>Image display<a class="headerlink" href="#image-display" title="Permalink to this headline">¶</a></h2>
<p>In the following example, a random black &amp; white image is displayed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="c1"># random black &amp; white image</span>
<span class="n">im_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span> <span class="o">=</span> <span class="n">createWindow</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">800</span><span class="p">))</span>

<span class="c1"># add widget with image</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">createWidgetImage</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">im</span><span class="o">=</span><span class="n">im_array</span><span class="p">)</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>Mouse interaction is enabled in order to zoom and navigate in the image. If we need to disable this behavior, we can use the function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.createWidgetLogo" title="visiannot.tools.ToolsPyqtgraph.createWidgetLogo"><code class="xref py py-func docutils literal notranslate"><span class="pre">createWidgetLogo()</span></code></a> instead of <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.createWidgetImage" title="visiannot.tools.ToolsPyqtgraph.createWidgetImage"><code class="xref py py-func docutils literal notranslate"><span class="pre">createWidgetImage()</span></code></a>.</p>
<p>The function <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.basicImagePlot" title="visiannot.tools.ToolsPyqtgraph.basicImagePlot"><code class="xref py py-func docutils literal notranslate"><span class="pre">basicImagePlot()</span></code></a> is also provided for convenience. The two lines for creating the window and the widget are equivalent to this line: <code class="docutils literal notranslate"><span class="pre">win,</span> <span class="pre">_,</span> <span class="pre">_,</span> <span class="pre">_</span> <span class="pre">=</span> <span class="pre">ToolsPyqtgraph.basicImagePlot(im_array,</span> <span class="pre">size=(800,</span> <span class="pre">800))</span></code>.</p>
</div>
<div class="section" id="color-map">
<h2>Color map<a class="headerlink" href="#color-map" title="Permalink to this headline">¶</a></h2>
<p>Here is an example of a color map along with a color bar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">visiannot.tools.ToolsPyQt</span> <span class="k">import</span> <span class="n">createWindow</span><span class="p">,</span> <span class="n">infiniteLoopDisplay</span>
<span class="kn">from</span> <span class="nn">visiannot.tools</span> <span class="k">import</span> <span class="n">ToolsPyqtgraph</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1">###################</span>
<span class="c1"># data generation #</span>
<span class="c1">###################</span>

<span class="c1"># random black &amp; white image (RGB)</span>
<span class="n">im_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)[:,</span> <span class="p">:,</span> <span class="kc">None</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">*</span> <span class="mi">255</span>


<span class="c1">###########</span>
<span class="c1"># display #</span>
<span class="c1">###########</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">initializeDisplayAndBgColor</span><span class="p">()</span>

<span class="c1"># create window with image</span>
<span class="n">win</span><span class="p">,</span> <span class="n">lay</span><span class="p">,</span> <span class="n">wid</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">basicImagePlot</span><span class="p">(</span><span class="n">im_array</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">800</span><span class="p">))</span>

<span class="c1"># create color map</span>
<span class="n">color_map</span><span class="p">,</span> <span class="n">lut</span> <span class="o">=</span> <span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">createColorMap</span><span class="p">(</span>
    <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
    <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
<span class="p">)</span>

<span class="c1"># create color bar</span>
<span class="n">ToolsPyqtgraph</span><span class="o">.</span><span class="n">createWidgetColorBar</span><span class="p">(</span><span class="n">lay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">color_map</span><span class="p">,</span> <span class="n">lut</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>

<span class="n">infiniteLoopDisplay</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>which renders the window as shown below.</p>
<div class="figure align-default" id="id10">
<img alt="_images/pyqtgr_ex7.png" src="_images/pyqtgr_ex7.png" />
<p class="caption"><span class="caption-number">Fig. 42 </span><span class="caption-text">Example of color map</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="exe.html" class="btn btn-neutral float-right" title="Creating a standalone executable" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="userguide-toolspyqt.html" class="btn btn-neutral float-left" title="User guide: ToolsPyQt" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-2021, Université Rennes 1

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>