

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Software description &mdash; ViSiAnnoT 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Further developments" href="further.html" />
    <link rel="prev" title="Creating a standalone executable" href="exe.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> ViSiAnnoT
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide-visiannot.html">User guide: ViSiAnnoT</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide-configuration.html">User guide: configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide-toolspyqt.html">User guide: ToolsPyQt</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide-toolspyqtgraph.html">User guide: ToolsPyqtgraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="exe.html">Creating a standalone executable</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Software description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#trew-view-of-source-files">Trew view of source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-diagrams">Class diagrams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visiannot">ViSiAnnoT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="further.html">Further developments</a></li>
<li class="toctree-l1"><a class="reference internal" href="APIreference/index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ViSiAnnoT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Software description</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/software.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-description">
<h1>Software description<a class="headerlink" href="#software-description" title="Permalink to this headline">¶</a></h1>
<div class="section" id="trew-view-of-source-files">
<h2>Trew view of source files<a class="headerlink" href="#trew-view-of-source-files" title="Permalink to this headline">¶</a></h2>
<p>WARNING!!! DEPRECATED, TO BE UPDATED</p>
<p>The tree view of source files is illustrated in figure <a class="reference internal" href="#fig-tree-view"><span class="std std-numref">Fig. 43</span></a>.</p>
<div class="figure align-default" id="id1">
<span id="fig-tree-view"></span><img alt="_images/tree_view.png" src="_images/tree_view.png" />
<p class="caption"><span class="caption-number">Fig. 43 </span><span class="caption-text">Tree view of source files</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p><strong>CONFIGURATION.py</strong> is a module with classes useful to launch the configuration tool (see section <a class="reference internal" href="userguide-configuration.html#configuration"><span class="std std-ref">User guide: configuration</span></a>).</p>
<p><strong>VISIANNOT.py</strong> is a module with classes useful to launch ViSiAnnoT.</p>
<p><strong>ToolsAnnotation.py</strong> is a module with functions for reading annotation files.</p>
<p><strong>ToolsData.py</strong> is a module with functions for loading data in format txt, h5 or mat as well as doing some basic processing.</p>
<p><strong>ToolsDateTime.py</strong> is a module with functions for converting and formatting date/times.</p>
<p><strong>ToolsImage.py</strong> is a module with functions for reading images and loading video data.</p>
<p><strong>ToolsPhysio.py</strong> is a module with functions for loading files with specific physiological data (so far, ECG with QRS beat detection).</p>
<p><strong>ToolsPyQt.py</strong> is a module with PyQt5 sub-classes and functions for easily creating widgets.</p>
<p><strong>ToolsPyqtgraph.py</strong> is a module with Pyqtgraph sub-classes, as well as functions for easily creating widgets with scientific graphics.</p>
<p><strong>Images</strong> is a folder with images displayed in the ViSiAnnoT window.</p>
<p><strong>doc</strong> is a folder with the documentation generated by <a class="reference external" href="https://www.sphinx-doc.org/en/master/index.html">Sphinx</a>.</p>
</div>
<div class="section" id="class-diagrams">
<h2>Class diagrams<a class="headerlink" href="#class-diagrams" title="Permalink to this headline">¶</a></h2>
<p>WARNING!!! DIAGRAMS DEPRECATED, TO BE UPDATED</p>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>Figure <a class="reference internal" href="#fig-class-diagram-config"><span class="std std-numref">Fig. 44</span></a> is the class diagram of textbf{ConfigurationWindow} class which launches the configuration tool (see section ref{sec:configuration}). It is composed of classes from PyQt5.QtWidgets.</p>
<div class="figure align-default" id="id2">
<span id="fig-class-diagram-config"></span><img alt="_images/class_diagram_configuration.png" src="_images/class_diagram_configuration.png" />
<p class="caption"><span class="caption-number">Fig. 44 </span><span class="caption-text">Class diagram of <a class="reference internal" href="APIreference/configuration/ConfigurationWindow/index.html#visiannot.configuration.ConfigurationWindow.ConfigurationWindow" title="visiannot.configuration.ConfigurationWindow.ConfigurationWindow"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigurationWindow</span></code></a> (attributes and methods are not provided) where the classes we implemented are highlighted in green and the other classes are from PyQt5.QtWidgets</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p><strong>QApplication</strong> class is necessary for the GUI to run.</p>
<p><strong>QWidget</strong> class contains a window. There are 3 windows. An instance of <strong>QGridLayout</strong> is associated to each window and is the layout to fill. An instance of <strong>QScrollArea</strong> is associated to each window.</p>
<p>There are 5 instances of <strong>QGroupBox</strong> that are present in the 3 windows at launch, each one of them has an associated instance of <strong>QGridLayout</strong> for filling.</p>
<p>The instance of <strong>QButtonGroup</strong> groups the push buttons for loading and saving configuration files as well as closing the window.</p>
<p>We implemented the <a class="reference internal" href="APIreference/configuration/Configuration/index.html#visiannot.configuration.Configuration.Configuration" title="visiannot.configuration.Configuration.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">Configuration</span></code></a> class for creating and setting configurations. There are 5 instances: video, signal, threshold, interval and annotation. Each one of them is added to a layout (<strong>QGridLayout</strong>). Every time the user creates a configuration, an instance of <strong>QGroupBox</strong> and its associated layout (<strong>QGridLayout</strong>) are added. An instance of <a class="reference internal" href="APIreference/configuration/Configuration/index.html#visiannot.configuration.Configuration.Configuration" title="visiannot.configuration.Configuration.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">Configuration</span></code></a> can have a list of <a class="reference internal" href="APIreference/configuration/Configuration/index.html#visiannot.configuration.Configuration.Configuration" title="visiannot.configuration.Configuration.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">Configuration</span></code></a> children. For example, in the configuration GUI, the signal configuration has 2 children: threshold and interval. There are 4 instances of <strong>QButtonGroup</strong>: for showing children windows, for adding a configuration, for deleting a configuration, for changing data directory. In some cases, they might be empty.</p>
</div>
<div class="section" id="visiannot">
<h3>ViSiAnnoT<a class="headerlink" href="#visiannot" title="Permalink to this headline">¶</a></h3>
<p>Figure <a class="reference internal" href="#fig-class-diagram-visiannot"><span class="std std-numref">Fig. 45</span></a> is the class diagram of <code class="xref py py-class docutils literal notranslate"><span class="pre">ViSiAnnoTMultipleRec</span></code>, which launches ViSiAnnoT in the context of long recordings (see section <a class="reference internal" href="userguide-visiannot.html#sec-longrec"><span class="std std-ref">Management of long recording</span></a>).</p>
<div class="figure align-default" id="id3">
<span id="fig-class-diagram-visiannot"></span><img alt="_images/class_diagram_visiannot.png" src="_images/class_diagram_visiannot.png" />
<p class="caption"><span class="caption-number">Fig. 45 </span><span class="caption-text">Class diagram of <code class="xref py py-class docutils literal notranslate"><span class="pre">ViSiAnnoTMultipleRec</span></code> (attributes and methods are not provided) where the classes we implemented are highlighted in green, the classes of pyaudio package are highlighted in red, the classes of pyqtgraph package are hightlighted in blue and the other classes are from PyQt5.QtWidgets</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">ViSiAnnoTMultipleRec</span></code> inherits from <a class="reference internal" href="APIreference/visiannot/ViSiAnnoT/index.html#visiannot.visiannot.ViSiAnnoT.ViSiAnnoT" title="visiannot.visiannot.ViSiAnnoT.ViSiAnnoT"><code class="xref py py-class docutils literal notranslate"><span class="pre">ViSiAnnoT</span></code></a>. The file selection in the long recordings is handled by 2 instances of <strong>PlotWidget</strong> with “previous” and “next” images and an instance of <a class="reference internal" href="APIreference/tools/ToolsPyQt/index.html#visiannot.tools.ToolsPyQt.ComboBox" title="visiannot.tools.ToolsPyQt.ComboBox"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComboBox</span></code></a>. This class inherits from <strong>QComboBox</strong> so that keyboard interaction is ignored.</p>
<p><strong>QApplication</strong> class is necessary for the GUI to run.</p>
<p><strong>QWidget</strong> class contains the window, to which is associated an instance of <strong>QGridLayout</strong> for filling it.</p>
<p>There are between 1 and 4 instances of <strong>QGroupBox</strong>, each one of them has an associated instance of <strong>QGridLayout</strong> for filling. These group boxs contain fast navigations and/or annotation tools.</p>
<p>We implemented the <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.ProgressWidget" title="visiannot.tools.ToolsPyqtgraph.ProgressWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProgressWidget</span></code></a> class for the progress bar. It is composed of an instance of <strong>PlotCurveItem</strong> for the background blue line, an instance of <strong>ScatterPlotItem</strong> for the current position cursor (red dot) and two instances of <strong>InfiniteLine</strong> for the current temporal range bounds.</p>
<p>We implemented the <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.SignalWidget" title="visiannot.tools.ToolsPyqtgraph.SignalWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">SignalWidget</span></code></a> class for plotting signals. It inherits from <strong>PlotWidget</strong>. The constructor is re-implemented so that an instance of <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.PlotItemCustom" title="visiannot.tools.ToolsPyqtgraph.PlotItemCustom"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotItemCustom</span></code></a> is used as the central item of the widget. <a class="reference internal" href="APIreference/tools/ToolsPyqtgraph/index.html#visiannot.tools.ToolsPyqtgraph.PlotItemCustom" title="visiannot.tools.ToolsPyqtgraph.PlotItemCustom"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotItemCustom</span></code></a> inherits from <strong>GraphicsItem.PlotItem.PlotItem</strong>, so that the effect of the “auto-range” button is only applied on the Y axis. We re-implemented the <strong>QScrollArea</strong> class in <a class="reference internal" href="APIreference/tools/ToolsPyQt/index.html#visiannot.tools.ToolsPyQt.ScrollArea" title="visiannot.tools.ToolsPyQt.ScrollArea"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScrollArea</span></code></a> so that we can add a scroll area containing the signal widgets while ignoring the wheel event for scrolling. Thus, the wheel event is only applied on the plot items.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="further.html" class="btn btn-neutral float-right" title="Further developments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="exe.html" class="btn btn-neutral float-left" title="Creating a standalone executable" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-2021, Université Rennes 1

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>